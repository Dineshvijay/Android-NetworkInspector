var shellAjaxOpen=XMLHttpRequest.prototype.open,shellWindowOpen=Window.prototype.open;XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(){var e=this.getAllResponseHeaders().trim().split(/[\r\n]+/),t={};e.forEach(function(e){var s=e.split(": "),n=s.shift(),o=s.join(": ");t[n]=o});var s={status:this.status,url:this.responseURL,response:this.responseText,type:"XHR",error:this.onerror,responseHeaders:t,byteReceived:this.response.length},n=JSON.stringify(s);window.Android.logAjaxCall(n)}),shellAjaxOpen.apply(this,arguments)},Window.prototype.open=function(){shellWindowOpen.apply(this,arguments)};